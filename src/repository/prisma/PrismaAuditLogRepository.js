import { AuditLogRepository } from "../interface/AuditLogRepository.js";import CommonError from "../../errors/CommonError.js";export class PrismaAuditLogRepository {    constructor(prisma) {        this.prisma = prisma;    }    /**     * Mencatat aktivitas admin/sistem     */    async createLog(data) {        try {            return await this.prisma.auditLog.create({                data: {                    action: data.action,                    actorId: data.actorId,                    targetId: data.targetId,                    description: data.description,                    ipAddress: data.ipAddress,                    userAgent: data.userAgent                },            });        } catch (error) {            console.error("[AuditLog] Gagal menyimpan log ke DB:", error.message);            return null;        }    }    /**     * Mengambil daftar log untuk ditampilkan di Dashboard Admin.     */    async findAllLogs(limit = 100) {        try {            return await this.prisma.auditLog.findMany({                take: limit,                orderBy: { createdAt: "desc" },                include: {                    actor: {                        select: { id: true, name: true, email: true }                    },                },            });        } catch (error) {            throw CommonError.DatabaseError(`Gagal mengambil audit log: ${error.message}`);        }    }}